scloud@stg-master02:~/devops-mcc/1.stg/2.moss-db/1.postgres-service$ ka -f 1.sts.yaml 
The request is invalid: patch: Invalid value: "map[metadata:map[annotations:map[kubectl.kubernetes.io/last-applied-configuration:{\"apiVersion\":\"apps/v1\",\"kind\":\"StatefulSet\",\"metadata\":{\"annotations\":{},\"name\":\"postgres\",\"namespace\":\"mcc\"},\"spec\":{\"replicas\":2,\"selector\":{\"matchLabels\":{\"app\":\"postgres\"}},\"serviceName\":\"postgres-headless\",\"template\":{\"metadata\":{\"labels\":{\"app\":\"postgres\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"MY_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"REPMGR_NODE_NAME\",\"value\":\"$(MY_POD_NAME)\"},{\"name\":\"REPMGR_NODE_NETWORK_NAME\",\"value\":\"$(MY_POD_NAME).postgres-headless.mcc.svc.cluster.local\"}],\"envFrom\":[{\"configMapRef\":{\"name\":\"postgres\"}},{\"secretRef\":{\"name\":\"postgres\"}}],\"image\":\"docker.io/library/mcc-postgresql-repmgr:16.3.0\",\"imagePullPolicy\":\"IfNotPresent\",\"livenessProbe\":{\"exec\":{\"command\":[\"bash\",\"-ec\",\"PGPASSWORD=$POSTGRESQL_PASSWORD psql -w -U $POSTGRESQL_USERNAME -d $POSTGRESQL_DATABASE -h 127.0.0.1 -p 5432 -c \\\"SELECT 1\\\"\"]},\"failureThreshold\":6,\"periodSeconds\":10,\"timeoutSeconds\":5},\"name\":\"postgresql\",\"readinessProbe\":{\"exec\":{\"command\":[\"bash\",\"-ec\",\"exec pg_isready -U $POSTGRESQL_USERNAME -h 127.0.0.1 -p 5432\\n[ -f /opt/bitnami/postgresql/tmp/.initialized ] || [ -f /bitnami/postgresql/.initialized ]\\n\"]},\"failureThreshold\":3,\"initialDelaySeconds\":10,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":5},\"startupProbe\":{\"exec\":{\"command\":[\"bash\",\"-ec\",\"PGPASSWORD=$POSTGRESQL_PASSWORD psql -w -U $POSTGRESQL_USERNAME -d $POSTGRESQL_DATABASE -h 127.0.0.1 -p 5432 -c \\\"SELECT 1\\\"\"]},\"failureThreshold\":60,\"initialDelaySeconds\":10,\"periodSeconds\":30,\"timeoutSeconds\":5},\"volumeMounts\":[{\"mountPath\":\"/bitnami/postgresql\",\"name\":\"postgres-data\"},{\"mountPath\":\"/etc/localtime\",\"name\":\"time-zone\"},{\"mountPath\":\"/dev/shm\",\"name\":\"dshm\"}]}],\"nodeSelector\":{\"role\":\"db\"},\"volumes\":[{\"hostPath\":{\"path\":\"/usr/share/zoneinfo/Asia/Ho_Chi_Minh\"},\"name\":\"time-zone\"},{\"emptyDir\":{\"medium\":\"Memory\",\"sizelimit\":\"1Gi\"},\"name\":\"dshm\"}]}},\"updateStrategy\":{\"type\":\"OnDelete\"},\"volumeClaimTemplates\":[{\"metadata\":{\"name\":\"postgres-data\"},\"spec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"100Gi\"}},\"storageClassName\":\"local-path\"}}]}}\n]] spec:map[template:map[spec:map[]] volumeClaimTemplates:[map[metadata:map[name:postgres-data] spec:map[accessModes:[ReadWriteOnce] resources:map[requests:map[storage:100Gi]] storageClassName:local-path]]]]]": strict decoding error: unknown field "spec.template.spec.volumes[1].emptyDir.sizelimit"
